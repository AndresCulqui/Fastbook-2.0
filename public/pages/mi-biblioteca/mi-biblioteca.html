<polymer-element name="mi-biblioteca">
  <template>
    <style>
     :host{
      position: absolute;
      width: 100%;
      height: 100%;
      color:#292215;
      font-size: 30px;
      padding: 0px;
      }
      
      mi-libro /deep/ .detail {
        visibility: hidden;
      }
  
      .titulo{
        font-size: 15px;
        font-family: 'Lato';
        margin-left: 15%;
      }
      input {
      border-bottom: 1px solid white;
      }
      section {
        background: rgba(8,46,64, 0.6);
        border-radius: 10px;
        // background-image: url('../images/oscuro.jpg');
        background-size: 100% 100%;
        background-repeat: no-repeat;
        border: 3px solid dimgray;
        margin: 20px;
        height: 700px;
      }

      .page {
        height: 800px;
        padding: 3%;
      }
      .body{
        width: 100%; 
        border-radius: 5px;
        
      }

      .libros{
        //padding-right: 10%;
        width:10%; 
        //height: 150px;
        float:left;
        margin-left: 5.5%;
        margin-top: 2.55%;
        //margin-bottom: 1.5%;
        
      }

        #reco {
          padding-left: 20px;
          background-image: url('../images/bookshe_top.png');
          background-repeat: no-repeat;
          background-size: 100% 100%;
          height: 40px;
        }
        .content { /*se hara por cada fila de recomendados (solo haremos 3 filas o 4 como mucho)*/
          //padding-top: 1%;
          height: 550px;
          background-image: url('../images/bookshe.png');
          background-size: 100% 32.59%;
        }
        .footer {
          background-image: url('../images/bookshe_bottom.png');
          background-repeat: no-repeat;
          background-size: 100% 100%;
          height: 40px;
        }
        mi-libro /deep/ .book1, #book {
        	width: 100px;
        	height: 130px;
        	-webkit-transition: all 1s ease;
    			-moz-transition: all 1s ease;
    			-ms-transition: all 1s ease;
    			transition: all 1s ease;
          padding: 1px;
        }
        mi-libro /deep/ #book{
          height: 130px;
          padding: 0px;
        }
        
        /*mi-libro /deep/ img:hover {
        	width: 110px;
        	height: 140px;
        }*/

        img:hover {
          opacity: 0.7;
        }

        #popup{
      position:fixed;
      top:0px;
      left:0px;
      width:100%;
      height:100%;
      background: rgba(0, 0, 0, 0.7);
      -webkit-transition: all 1s ease;
      -moz-transition: all 1s ease;
      -ms-transition: all 1s ease;
      transition: all 1s ease;
      }

      #dialogo{
          position: absolute;
          position:fixed;
          margin-left:14%;
          margin-right:15%;
          margin-top:-2%;
          margin-bottom: 10%;
          width: 660px;
          height: 520px;
          border: 1px solid black;
          background-color: white;
          /*background: rgba(8,46,64, 0.98);*/
          border-radius: 7px;
          padding: 10px;
          z-index: 2;
        }
      
      #optionButtons{
            position:relative;
      }
     .accept {
        padding-top: -10px;
        margin-top: 10px;
        margin-right: 20px;
        margin-bottom: 15px;
       
        height: 40px;
        font-size: 15px;
        background-image: url('../images/log.jpg');
        background-size: 100% 100%;
        background-repeat: no-repeat;
        color: white;
        font-weight: bold;
      }
      #dialogo2{
        float: left;
        margin-right: 50px;
      }
      label {
        color: cadetblue;
        font-size: 20px;
        font-weight: bold;;
      }
      
      img {
        width: 20px;
        height:20px;
        float: right;
      }
      table{
        width: auto;
        height: auto;
        border-collapse: collapse;
      }
      #tprecio {
        width: 50px;
        color: green;
        padding: 0px;
      }

      #ttitulo {
        text-align: center;
        font-size: 20px;
        font-weight: bold;
        width: 100%;
      }
      #close:hover{
        clear: none;
      }
      .modify {
        padding: 0px;
        font-size: 15px;
        width: 100%;
      }
      .modify2{
        font-size: 15px;
      }
      .modify, .modify2 {
      	color: dimgray;
        font-family: Courier;
        font-weight: bold;
        text-shadow: #fff 0 0 4px, #fcffbb 0 0 20px;
      }
      textarea, input{
        border: 0px solid white;
        color: dimgray;
        font-family: Courier;
        font-weight: bold;
        text-shadow: #fff 0 0 4px, #fcffbb 0 0 20px;
        
        resize: none;
      }
      textarea { 
      	width: 600px;
    	height: 5em;
	  }
      #imagen{
        width: 3px;
      }
      .desc {
        width: 50px;
      }
       
        @media (max-width: 600px) {
          section, .page {
            margin: 0px;
            padding: 0px;
          }
          .page {
            height: 0px;
          }
          section {
            border: 0px;
          }

         .libros{
         //padding-right: 10%;
        width:10%; 
        //height: 150px;
        float:left;
        margin-left: 5.5%;
        margin-top: 2.55%;
        //margin-bottom: 1.5%;
        }
        .content {
          height: 730px;
          background-size: 100% 25%; 
          padding-left: 3%;             
        }

        mi-libro /deep/ img {
        	width: 70px;
        	height: 120px;
        	border: 2px solid whitesmoke;
        }
         mi-libro /deep/ img:hover {
        	width: 70px;
        	height: 120px;
      
        }

        /* pop up */
        #dialogo {
        	position: relative;
        	clear: both;
        	margin: 0px;
        	border: 0px;
        	padding: 0px;
        	width: auto;
        }
        #back, #popup {
        	background-color: white;
        	padding: 0px;
        	min-width: 0px;
        }
        label {
        	font-size: 10px;
        	margin-top: -2px;
        }
        #dialogo2 { margin-right: 0px; }
      	
      	.modify { font-size: 10px; }
      	textarea { 
      		width: 280px;
      		height: 100px;
      	}
      	.desc {
      		height: 10px;
      	}
}
      @media (min-width: 1400px) {
          section, .page {
            margin: 0px;
            padding: 0px;
          }
          .page {
            height: 0px;
          }
          section {
            border: 0px;
          }

         .libros{
          //padding-right: 10%;
          width:10%; 
          height: 150px;
          float:left;
          margin-left: 5.5%;
          margin-top: 1.55%;
          margin-bottom: 0.2%;

        }
        .content {
          //padding-top: 1%;
          height: 550px;
          background-image: url('../images/bookshe.png');
          background-size: 100% 32.59%;          
        }

        mi-libro /deep/ img {
          width: 110px;
          height: 130px;
          border: 2px solid whitesmoke;

        }
      }

      

    </style>
    <section tool center-justified vertical layout flex>
     <core-ajax id="ajax" method="GET" auto url="/Books" 
      handleAs="json"></core-ajax>

      <div class="page" center-justified layout flex>
        <div class="body">
          <div id="reco">LIBRARY<br></div>
            <div class="content" center-justified layout flex>
                <template repeat="{{libro in libros}}">
    	            <div class="libros">
    	              <mi-libro book="{{libro}}" on-tap="{{bookDetail}}"></mi-libro>
    	          	</div> 
                </template>      
             
                </div>
                <div class="footer"> </div>
            </div>
        </div> 
    </section>

  </template>
  <script>
(function() {
   Polymer({
      ready: function () {
        /*this.perfil = {name: 'Carlos Andrés', lastName: 'García Maldonado', email: 'carlos@gmail.com', userName: 'charlie', password: '12345'};*/
              var that=this;

          this.$.ajax.addEventListener("core-response", function(e) {
           that.libros=e.detail.response;
            console.log(e.detail.response.length);
          })
        
              

       
      }



    });

  }());
  </script>
</polymer-element>
